<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./styles/style.css">
    <title></title>
</head>
<body>
    <h2>Вложенный список</h2>
    <ul id="tree">
        <li>Уровень 1 (A)
            <ul> 
                <li>Уровень 2 (A.1)
                    <ul> 
                        <li>Уровень 3 (A.1.1)</li>
                        <li>Уровень 3 (A.1.2)</li>
                    </ul>
                </li>
                <li>Уровень 2 (A.2)</li>
            </ul>
        </li>
        <li>Уровень 1 (B)
            <ul> 
                <li>Уровень 2 (B.1)
                    <ul> 
                        <li>Уровень 3 (B.1.1)</li>
                        <li>Уровень 3 (B.1.2)</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <hr>
    
    <h2>Таблица, которая меняет цвет</h2>
    <table id="colorTable">
        <tr>
            <td>1,1</td>
            <td>1,2</td>
            <td>1,3</td>
            <td>1,4</td>
        </tr>
        <tr>
            <td>2,1</td>
            <td>2,2</td>
            <td>2,3</td>
            <td>2,4</td>
        </tr>
        <tr>
            <td>3,1</td>
            <td>3,2</td>
            <td>3,3</td>
            <td>3,4</td>
        </tr>
        <tr>
            <td>4,1</td>
            <td>4,2</td>
            <td>4,3</td>
            <td>4,4</td>
        </tr>
    </table>

    <script>
        const treeElement = document.getElementById('tree');

        treeElement.addEventListener('click', function(event) {
            const clickedTarget = event.target;

            if (clickedTarget.tagName != 'LI') return; 

            const targetLi = clickedTarget;

            const elemUl = targetLi.querySelector('ul');

            if (elemUl) {
                elemUl.classList.toggle('visible');
                targetLi.classList.toggle('opened');
            }
        });


        const tableElement = document.getElementById('colorTable');

        function getRandomColor() {
            return '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
        }

        tableElement.addEventListener('click', function(event) {
            const clickedCell = event.target; 
            if (clickedCell.tagName == 'TD') {             
                clickedCell.style.backgroundColor = getRandomColor();
            }
        });
    </script>

</body>
</html>